<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<title>áƒœáƒáƒ áƒ“áƒ˜ (Backgammon)</title>
<style>
body { background:#1a1a1a; color:white; text-align:center; font-family:sans-serif; }
canvas { background:#8b4513; margin-top:20px; border:4px solid #333; }
button { padding:10px 20px; font-size:18px; margin-top:10px; cursor:pointer; }
</style>
</head>
<body>

<h1>ğŸ² áƒœáƒáƒ áƒ“áƒ˜</h1>
<button onclick="rollDice()">áƒ™áƒ£áƒ‘áƒ˜áƒ™áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ’áƒáƒ áƒ”áƒ‘áƒ</button>
<p id="dice">áƒ™áƒ£áƒ‘áƒ˜áƒ™áƒ”áƒ‘áƒ˜: -</p>

<canvas id="board" width="800" height="500"></canvas>

<script>
const canvas = document.getElementById('board');
const ctx = canvas.getContext('2d');

let points = Array(24).fill().map(()=>[]);
let dice = [];
let selected = null;
let currentPlayer = 1; // 1 white, 2 black

// áƒ¡áƒáƒ¬áƒ§áƒ˜áƒ¡áƒ˜ áƒ’áƒáƒœáƒšáƒáƒ’áƒ”áƒ‘áƒ
points[0] = [1,1];
points[23] = [2,2];
points[5] = [2,2,2,2,2];
points[18] = [1,1,1,1,1];

function drawBoard() {
  ctx.clearRect(0,0,800,500);

  for(let i=0;i<24;i++){
    let x = (i%12)*65 + 10;
    let y = i<12 ? 0 : 250;

    ctx.fillStyle = i%2==0 ? '#d2b48c' : '#5c4033';
    ctx.beginPath();
    ctx.moveTo(x,y);
    ctx.lineTo(x+60,y);
    ctx.lineTo(x+30,y+200);
    ctx.fill();

    drawCheckers(i,x,y);
  }
}

function drawCheckers(i,x,y){
  let stack = points[i];
  for(let j=0;j<stack.length;j++){
    ctx.beginPath();
    ctx.arc(x+30, y + (i<12 ? 220 - j*20 : 30 + j*20), 15, 0, Math.PI*2);
    ctx.fillStyle = stack[j]==1 ? 'white' : 'black';
    ctx.fill();
  }
}

canvas.addEventListener('click', function(e){
  let rect = canvas.getBoundingClientRect();
  let mx = e.clientX - rect.left;
  let my = e.clientY - rect.top;

  let index = Math.floor(mx/65);
  if(my>250) index +=12;

  if(selected==null){
    if(points[index].length && points[index][0]==currentPlayer){
      selected=index;
    }
  } else {
    move(selected,index);
    selected=null;
  }

  drawBoard();
});

function move(from,to){
  if(dice.length==0) return;

  let step = Math.abs(to-from);
  let i = dice.indexOf(step);

  if(i>-1){
    let piece = points[from].shift();
    points[to].unshift(piece);
    dice.splice(i,1);

    if(dice.length==0) currentPlayer = currentPlayer==1?2:1;
  }
}

function rollDice(){
  dice = [rand(), rand()];
  document.getElementById('dice').textContent = 'áƒ™áƒ£áƒ‘áƒ˜áƒ™áƒ”áƒ‘áƒ˜: ' + dice.join(', ');
}

function rand(){ return Math.floor(Math.random()*6)+1; }


drawBoard();
</script>

</body>
</html>
