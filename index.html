<!DOCTYPE html>
<html lang="ka">
<head>
  <meta charset="UTF-8">
  <title>ğŸš€ Space Shooter - áƒ“áƒ˜áƒ“áƒ˜ áƒ—áƒáƒ›áƒáƒ¨áƒ˜</title>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
      font-family: sans-serif;
      color: white;
      text-align: center;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background: radial-gradient(circle, #000 40%, #020617);
    }
    #ui {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 20px;
    }
    #startBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 15px 30px;
      font-size: 22px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="ui">áƒ¥áƒ£áƒšáƒ: <span id="score">0</span> | áƒ¡áƒ˜áƒªáƒáƒªáƒ®áƒšáƒ”: <span id="lives">3</span></div>
<button id="startBtn">áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ</button>
<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let player, bullets, enemies, score, lives, gameRunning;

const keys = {};

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

document.getElementById("startBtn").onclick = startGame;

function startGame() {
  player = { x: 400, y: 520, w: 40, h: 40, speed: 6 };
  bullets = [];
  enemies = [];
  score = 0;
  lives = 3;
  gameRunning = true;
  document.getElementById("startBtn").style.display = "none";
  loop();
}

function spawnEnemy() {
  enemies.push({
    x: Math.random() * (canvas.width - 40),
    y: -40,
    w: 40,
    h: 40,
    speed: 2 + Math.random() * 2
  });
}

setInterval(() => {
  if (gameRunning) spawnEnemy();
}, 1000);

function shoot() {
  bullets.push({ x: player.x + 15, y: player.y, w: 10, h: 20, speed: 7 });
}

setInterval(() => {
  if (gameRunning && keys[" "]) shoot();
}, 200);

function update() {
  if (keys["ArrowLeft"]) player.x -= player.speed;
  if (keys["ArrowRight"]) player.x += player.speed;

  bullets.forEach(b => b.y -= b.speed);
  enemies.forEach(e => e.y += e.speed);

  bullets = bullets.filter(b => b.y > -20);
  enemies = enemies.filter(e => e.y < canvas.height + 40);

  // collision
  enemies.forEach((e, ei) => {
    bullets.forEach((b, bi) => {
      if (b.x < e.x + e.w && b.x + b.w > e.x && b.y < e.y + e.h && b.y + b.h > e.y) {
        enemies.splice(ei, 1);
        bullets.splice(bi, 1);
        score++;
      }
    });

    if (e.y + e.h > player.y && e.x < player.x + player.w && e.x + e.w > player.x) {
      enemies.splice(ei, 1);
      lives--;
      if (lives <= 0) endGame();
    }
  });

  document.getElementById("score").textContent = score;
  document.getElementById("lives").textContent = lives;
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // player
  ctx.fillStyle = "cyan";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // bullets
  ctx.fillStyle = "yellow";
  bullets.forEach(b => ctx.fillRect(b.x, b.y, b.w, b.h));

  // enemies
  ctx.fillStyle = "red";
  enemies.forEach(e => ctx.fillRect(e.x, e.y, e.w, e.h));
}

function loop() {
  if (!gameRunning) return;
  update();
  draw();
  requestAnimationFrame(loop);
}

function endGame() {
  gameRunning = false;
  alert("áƒ—áƒáƒ›áƒáƒ¨áƒ˜ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ“áƒ! áƒ¥áƒ£áƒšáƒ: " + score);
  document.getElementById("startBtn").style.display = "block";
}
</script>

</body>
</html>
