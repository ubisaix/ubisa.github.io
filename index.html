<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D áƒ°áƒáƒ áƒáƒ¡áƒ™áƒáƒáƒ˜</title>

<style>
body {
    margin: 0;
    overflow: hidden;
    background: black;
    font-family: sans-serif;
}

/* áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜ */
.info {
    position: absolute;
    bottom: 20px;
    width: 100%;
    text-align: center;
    color: white;
    font-size: 18px;
}

/* popup */
.popup {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.9);
    padding: 20px;
    border-radius: 15px;
    color: white;
    display: none;
    max-width: 300px;
    text-align: center;
}

.popup button {
    margin-top: 10px;
}
</style>

</head>
<body>

<div class="info">áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ–áƒáƒ“áƒ˜áƒáƒ¥áƒáƒ¡ áƒœáƒ˜áƒ¨áƒáƒœáƒ¡ ğŸ”®</div>

<div id="popup" class="popup">
    <h2 id="title"></h2>
    <p id="text"></p>
    <button onclick="closePopup()">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>

// áƒ¡áƒªáƒ”áƒœáƒ
const scene = new THREE.Scene();

// áƒ™áƒáƒ›áƒ”áƒ áƒ
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.z = 15;

// áƒ áƒ”áƒœáƒ“áƒ”áƒ áƒ˜
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// áƒ•áƒáƒ áƒ¡áƒ™áƒ•áƒšáƒáƒ•áƒ”áƒ‘áƒ˜
const starsGeometry = new THREE.BufferGeometry();
const starsMaterial = new THREE.PointsMaterial({color: 0xffffff});

const starsVertices = [];
for (let i = 0; i < 5000; i++) {
    starsVertices.push(
        THREE.MathUtils.randFloatSpread(200),
        THREE.MathUtils.randFloatSpread(200),
        THREE.MathUtils.randFloatSpread(200)
    );
}

starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
const starField = new THREE.Points(starsGeometry, starsMaterial);
scene.add(starField);

// áƒ–áƒáƒ“áƒ˜áƒáƒ¥áƒáƒ¡ áƒœáƒ˜áƒ¨áƒœáƒ”áƒ‘áƒ˜
const signs = [
    {name:"áƒ•áƒ”áƒ áƒ«áƒ˜ â™ˆ", file:"aries"},
    {name:"áƒ™áƒ£áƒ áƒ â™‰", file:"taurus"},
    {name:"áƒ¢áƒ§áƒ£áƒáƒ”áƒ‘áƒ˜ â™Š", file:"gemini"},
    {name:"áƒ™áƒ˜áƒ áƒ©áƒ®áƒ˜áƒ‘áƒ˜ â™‹", file:"cancer"},
    {name:"áƒšáƒáƒ›áƒ˜ â™Œ", file:"leo"},
    {name:"áƒ¥áƒáƒšáƒ¬áƒ£áƒšáƒ˜ â™", file:"virgo"},
    {name:"áƒ¡áƒáƒ¡áƒ¬áƒáƒ áƒ˜ â™", file:"libra"},
    {name:"áƒ›áƒáƒ áƒ˜áƒ”áƒšáƒ˜ â™", file:"scorpio"},
    {name:"áƒ›áƒ¨áƒ•áƒ˜áƒšáƒ“áƒáƒ¡áƒáƒœáƒ˜ â™", file:"sagittarius"},
    {name:"áƒ—áƒ®áƒ˜áƒ¡ áƒ áƒ¥áƒ â™‘", file:"capricorn"},
    {name:"áƒ›áƒ”áƒ áƒ¬áƒ§áƒ£áƒšáƒ˜ â™’", file:"aquarius"},
    {name:"áƒ—áƒ”áƒ•áƒ–áƒ”áƒ‘áƒ˜ â™“", file:"pisces"}
];

const objects = [];
const radius = 6;

// áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜áƒ¡ áƒ¡áƒáƒ áƒáƒ˜áƒ¢áƒ”áƒ‘áƒ˜
function createTextSprite(message) {
    const canvas = document.createElement('canvas');
    const context = canvas.getContext('2d');

    context.font = "30px Arial";
    context.fillStyle = "white";
    context.fillText(message, 0, 30);

    const texture = new THREE.CanvasTexture(canvas);

    const material = new THREE.SpriteMaterial({map: texture});
    const sprite = new THREE.Sprite(material);

    sprite.scale.set(2,1,1);

    return sprite;
}

// áƒáƒ áƒ‘áƒ˜áƒ¢áƒáƒ–áƒ” áƒ’áƒáƒœáƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒ
signs.forEach((sign, i) => {
    const angle = (i / signs.length) * Math.PI * 2;

    const sprite = createTextSprite(sign.name);

    sprite.position.x = Math.cos(angle) * radius;
    sprite.position.y = Math.sin(angle) * radius;

    sprite.userData = sign;

    scene.add(sprite);
    objects.push(sprite);
});

// Raycaster áƒ™áƒšáƒ˜áƒ™áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
const raycaster = new THREE.Raycaster();
const mouse = new THREE.Vector2();

window.addEventListener('click', (event) => {
    mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
    mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

    raycaster.setFromCamera(mouse, camera);

    const intersects = raycaster.intersectObjects(objects);

    if (intersects.length > 0) {
        const obj = intersects[0].object;
        showHoroscope(obj.userData.name);
    }
});

// áƒ°áƒáƒ áƒáƒ¡áƒ™áƒáƒáƒ˜áƒ¡ áƒ’áƒ”áƒœáƒ”áƒ áƒáƒ¢áƒáƒ áƒ˜
function generateHoroscope(sign) {
    const texts = [
        "áƒ“áƒ¦áƒ”áƒ¡ áƒ™áƒáƒ áƒ’áƒ˜ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ áƒ’áƒáƒ¥áƒ•áƒ¡. áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” áƒ¨áƒáƒœáƒ¡áƒ”áƒ‘áƒ˜.",
        "áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ¡áƒáƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ áƒ¨áƒ”áƒ®áƒ•áƒ”áƒ“áƒ áƒ áƒ’áƒ¥áƒáƒœáƒ“áƒ”áƒ¡.",
        "áƒ¤áƒ˜áƒœáƒáƒœáƒ¡áƒ£áƒ áƒáƒ“ áƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒáƒ“ áƒ˜áƒ§áƒáƒ•áƒ˜.",
        "áƒáƒ®áƒáƒšáƒ˜ áƒ˜áƒ“áƒ”áƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒáƒ¡ áƒ›áƒáƒ’áƒ˜áƒ¢áƒáƒœáƒ¡.",
        "áƒ“áƒáƒ˜áƒ¡áƒ•áƒ”áƒœáƒ” áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ–áƒ” áƒ˜áƒ–áƒ áƒ£áƒœáƒ”."
    ];

    return texts[Math.floor(Math.random()*texts.length)];
}

// popup
function showHoroscope(sign) {
    document.getElementById("title").innerText = sign;
    document.getElementById("text").innerText = generateHoroscope(sign);
    document.getElementById("popup").style.display = "block";
}

function closePopup() {
    document.getElementById("popup").style.display = "none";
}

// áƒáƒœáƒ˜áƒ›áƒáƒªáƒ˜áƒ
function animate() {
    requestAnimationFrame(animate);

    // áƒ¢áƒ áƒ˜áƒáƒšáƒ˜ (áƒáƒ áƒ‘áƒ˜áƒ¢áƒ)
    objects.forEach((obj, i) => {
        const time = Date.now() * 0.0005;
        const angle = time + (i / objects.length) * Math.PI * 2;

        obj.position.x = Math.cos(angle) * radius;
        obj.position.y = Math.sin(angle) * radius;
    });

    starField.rotation.y += 0.0005;

    renderer.render(scene, camera);
}

animate();

// responsive
window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});

</script>

</body>
</html>
