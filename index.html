<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<title>ğŸ² áƒœáƒáƒ áƒ“áƒ˜ - áƒ•áƒ˜áƒ–áƒ£áƒáƒšáƒ£áƒ áƒ˜ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ</title>
<style>
body {
  margin:0;
  background:#2b1b10;
  font-family:sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:white;
}

h1 { margin:10px; }

#board {
  display:grid;
  grid-template-columns: repeat(12, 60px);
  grid-template-rows: repeat(2, 240px);
  gap:4px;
  background:#3d2414;
  padding:10px;
  border-radius:20px;
  box-shadow:0 0 30px black inset;
}

.point {
  width:60px;
  height:240px;
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-end;
}

.point.top { justify-content:flex-start; }

.point::before {
  content:"";
  position:absolute;
  width:0;
  height:0;
  border-left:30px solid transparent;
  border-right:30px solid transparent;
}

.point.bottom::before {
  bottom:0;
  border-top:200px solid #d2b48c;
}

.point.top::before {
  top:0;
  border-bottom:200px solid #6b4423;
}

.point.dark.bottom::before { border-top-color:#6b4423; }
.point.dark.top::before { border-bottom-color:#d2b48c; }

.checker {
  width:40px;
  height:40px;
  border-radius:50%;
  margin:2px;
  box-shadow:0 3px 6px rgba(0,0,0,0.6);
  cursor:grab;
}

.white { background: radial-gradient(circle at 30% 30%, #fff, #bbb); }
.black { background: radial-gradient(circle at 30% 30%, #555, #000); }

.highlight {
  outline:3px solid yellow;
}

#controls { margin:10px; }
button { padding:8px 16px; font-size:16px; cursor:pointer; }
</style>
</head>
<body>

<h1>ğŸ² áƒœáƒáƒ áƒ“áƒ˜ (áƒ•áƒ˜áƒ–áƒ£áƒáƒšáƒ£áƒ áƒ˜)</h1>
<div id="controls">
  <button onclick="rollDice()">ğŸ² áƒ™áƒ£áƒ‘áƒ˜áƒ™áƒ”áƒ‘áƒ˜</button>
  <span id="dice"></span>
</div>

<div id="board"></div>

<script>
const boardEl = document.getElementById('board');
let points = Array(24).fill().map(()=>[]);
let dice = [];
let selected = null;

// init
for(let i=0;i<15;i++){
  points[0].push('white');
  points[23].push('black');
}

function render(){
  boardEl.innerHTML='';

  for(let i=0;i<24;i++){
    const point = document.createElement('div');
    point.className = 'point ' + (i<12?'bottom':'top') + (i%2?' dark':'');

    point.dataset.index=i;

    point.onclick = () => clickPoint(i);

    let stack = points[i];

    stack.forEach(color=>{
      const c = document.createElement('div');
      c.className = 'checker ' + color;
      point.appendChild(c);
    });

    boardEl.appendChild(point);
  }
}

function clickPoint(i){
  if(selected===null){
    if(points[i].length){
      selected=i;
      highlightMoves(i);
    }
  } else {
    move(selected,i);
    selected=null;
    clearHighlights();
  }
}

function highlightMoves(from){
  clearHighlights();

  dice.forEach(d=>{
    let to = from + d;
    if(to<24){
      let el = document.querySelector(`[data-index='${to}']`);
      if(el) el.classList.add('highlight');
    }
  });
}

function clearHighlights(){
  document.querySelectorAll('.highlight').forEach(e=>e.classList.remove('highlight'));
}

function move(from,to){
  let step = to-from;
  let i = dice.indexOf(step);
  if(i>-1){
    let piece = points[from].pop();
    points[to].push(piece);
    dice.splice(i,1);
    render();
  }
}

function rollDice(){
  dice=[rand(),rand()];
  document.getElementById('dice').textContent = 'áƒ™áƒ£áƒ‘áƒ˜áƒ™áƒ”áƒ‘áƒ˜: '+dice.join(', ');
}

function rand(){ return Math.floor(Math.random()*6)+1; }

render();
</script>

</body>
</html>
